<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>90 Days Transformation</title>
  <!--
  VOICEOVER SCRIPT:
  [0:00-0:02] *tension build* "Day 1..."
  [0:02-0:05] "I couldn't even run for 5 minutes."
  [0:05-0:08] *transition glitch* "Day 90..."
  [0:08-0:12] "Marathon complete. 42 kilometers."
  [0:12-0:15] "Your body can handle almost anything..."
  [0:15-0:17] "It's your mind you have to convince."
  [0:17-0:20] "What's your day 1?"

  ELEVENLABS VOICE: Antoni (motivational, warm)
  -->
  <style>
    :root {
      --bg-primary: #030303;
      --red: #ef4444;
      --red-glow: rgba(239, 68, 68, 0.5);
      --green: #22c55e;
      --green-glow: rgba(34, 197, 94, 0.5);
      --gold: #fbbf24;
      --gold-glow: rgba(251, 191, 36, 0.5);
      --text: #ffffff;
      --text-muted: #666;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      width: 100vw;
      height: 100vh;
      background: #000;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
    }

    .container {
      width: 1080px;
      height: 1920px;
      transform: scale(0.5);
      transform-origin: center;
      background: var(--bg-primary);
      position: relative;
      overflow: hidden;
    }

    /* === PHASE BACKGROUNDS === */
    .phase-bg {
      position: absolute;
      inset: 0;
      opacity: 0;
      transition: opacity 1s ease;
    }

    .phase-bg.active {
      opacity: 1;
    }

    .phase-bg-before {
      background: radial-gradient(ellipse at 50% 30%, rgba(239, 68, 68, 0.15) 0%, transparent 60%);
    }

    .phase-bg-after {
      background: radial-gradient(ellipse at 50% 30%, rgba(34, 197, 94, 0.15) 0%, transparent 60%);
    }

    /* === GLITCH TRANSITION === */
    .glitch-overlay {
      position: absolute;
      inset: 0;
      z-index: 100;
      pointer-events: none;
      opacity: 0;
    }

    .glitch-overlay.active {
      animation: glitch-flash 0.5s steps(2) forwards;
    }

    @keyframes glitch-flash {
      0% { opacity: 1; background: var(--red); }
      20% { opacity: 0; }
      25% { opacity: 1; background: var(--green); }
      45% { opacity: 0; }
      50% { opacity: 1; background: white; }
      55% { opacity: 0; }
      60% { opacity: 1; background: var(--green); }
      100% { opacity: 0; }
    }

    .glitch-lines {
      position: absolute;
      inset: 0;
      z-index: 99;
      pointer-events: none;
      opacity: 0;
    }

    .glitch-lines.active {
      animation: glitch-lines 0.4s linear;
    }

    @keyframes glitch-lines {
      0%, 100% { opacity: 0; }
      10% {
        opacity: 1;
        background: repeating-linear-gradient(
          0deg,
          transparent 0px,
          transparent 2px,
          rgba(255,255,255,0.1) 2px,
          rgba(255,255,255,0.1) 4px
        );
        transform: translateX(-10px);
      }
      20% { transform: translateX(10px); }
      30% { transform: translateX(-5px) skewX(-2deg); }
      40% { transform: translateX(5px) skewX(2deg); }
      50% { transform: translateX(0); opacity: 0; }
    }

    /* === CONTENT PHASES === */
    .phase {
      position: absolute;
      inset: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 80px;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.8s ease;
    }

    .phase.active {
      opacity: 1;
      pointer-events: auto;
    }

    /* Day label */
    .day-label {
      font-size: 180px;
      font-weight: 900;
      letter-spacing: -8px;
      line-height: 1;
      opacity: 0;
      transform: scale(0.5);
    }

    .day-label.visible {
      animation: day-pop 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    }

    @keyframes day-pop {
      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    .day-before { color: var(--red); text-shadow: 0 0 60px var(--red-glow); }
    .day-after { color: var(--green); text-shadow: 0 0 60px var(--green-glow); }

    /* Stats */
    .stat-container {
      margin-top: 80px;
      text-align: center;
    }

    .stat-number {
      font-size: 200px;
      font-weight: 900;
      letter-spacing: -10px;
      line-height: 1;
      opacity: 0;
    }

    .stat-number.visible {
      animation: stat-reveal 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    }

    @keyframes stat-reveal {
      from {
        opacity: 0;
        transform: translateY(60px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .stat-before .stat-number {
      color: var(--red);
      text-shadow: 0 0 80px var(--red-glow);
    }

    .stat-after .stat-number {
      color: var(--green);
      text-shadow: 0 0 80px var(--green-glow);
    }

    .stat-unit {
      font-size: 64px;
      font-weight: 600;
      color: var(--text-muted);
      margin-top: 16px;
      opacity: 0;
      transform: translateY(20px);
    }

    .stat-unit.visible {
      animation: fade-up 0.6s ease forwards;
    }

    @keyframes fade-up {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Message phase */
    .message {
      font-size: 72px;
      font-weight: 700;
      color: var(--text);
      text-align: center;
      line-height: 1.2;
      opacity: 0;
    }

    .message.visible {
      animation: message-fade 1s ease forwards;
    }

    @keyframes message-fade {
      to { opacity: 1; }
    }

    .message .highlight {
      color: var(--gold);
      text-shadow: 0 0 40px var(--gold-glow);
    }

    /* CTA */
    .cta-phase {
      justify-content: flex-end;
      padding-bottom: 200px;
    }

    .cta-text {
      font-size: 64px;
      font-weight: 700;
      color: var(--text);
      text-align: center;
      opacity: 0;
      transform: translateY(30px);
    }

    .cta-text.visible {
      animation: cta-in 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    }

    @keyframes cta-in {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .cta-box {
      margin-top: 40px;
      padding: 32px 80px;
      border: 4px solid var(--gold);
      border-radius: 16px;
      background: rgba(251, 191, 36, 0.1);
      opacity: 0;
      transform: scale(0.9);
    }

    .cta-box.visible {
      animation: box-pop 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 0.3s forwards;
    }

    @keyframes box-pop {
      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    .cta-box span {
      font-size: 56px;
      font-weight: 800;
      color: var(--gold);
    }

    /* === AMBIENT === */
    .particles {
      position: absolute;
      inset: 0;
      z-index: 1;
      pointer-events: none;
    }

    .particle {
      position: absolute;
      width: 4px;
      height: 4px;
      border-radius: 50%;
      opacity: 0;
    }

    .particle-red {
      background: var(--red);
      box-shadow: 0 0 8px var(--red-glow);
    }

    .particle-green {
      background: var(--green);
      box-shadow: 0 0 8px var(--green-glow);
    }

    /* Progress bar at bottom */
    .progress-bar {
      position: absolute;
      bottom: 0;
      left: 0;
      height: 8px;
      background: linear-gradient(90deg, var(--red), var(--green));
      width: 0;
      z-index: 50;
    }

    .progress-bar.animate {
      animation: progress-fill 20s linear forwards;
    }

    @keyframes progress-fill {
      to { width: 100%; }
    }

    /* Vignette */
    .vignette {
      position: absolute;
      inset: 0;
      background: radial-gradient(ellipse at 50% 50%, transparent 40%, rgba(0,0,0,0.6) 100%);
      pointer-events: none;
      z-index: 10;
    }

    /* Pulsing ring for emphasis */
    .pulse-ring {
      position: absolute;
      width: 300px;
      height: 300px;
      border: 4px solid;
      border-radius: 50%;
      opacity: 0;
      pointer-events: none;
    }

    .pulse-ring.active {
      animation: ring-pulse 1.5s ease-out forwards;
    }

    @keyframes ring-pulse {
      0% {
        opacity: 0.8;
        transform: translate(-50%, -50%) scale(0.5);
      }
      100% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(2);
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Phase backgrounds -->
    <div class="phase-bg phase-bg-before" id="bg-before"></div>
    <div class="phase-bg phase-bg-after" id="bg-after"></div>

    <!-- Particles -->
    <div class="particles" id="particles"></div>

    <!-- Glitch effects -->
    <div class="glitch-overlay" id="glitch"></div>
    <div class="glitch-lines" id="glitch-lines"></div>

    <!-- Phase 1: Before -->
    <div class="phase phase-before" id="phase-before">
      <div class="day-label day-before" id="day1">DAY 1</div>
      <div class="stat-container stat-before">
        <div class="stat-number" id="stat1">5</div>
        <div class="stat-unit" id="unit1">minutes</div>
      </div>
    </div>

    <!-- Phase 2: After -->
    <div class="phase phase-after" id="phase-after">
      <div class="day-label day-after" id="day90">DAY 90</div>
      <div class="stat-container stat-after">
        <div class="stat-number" id="stat2">42</div>
        <div class="stat-unit" id="unit2">kilometers</div>
      </div>
    </div>

    <!-- Phase 3: Message -->
    <div class="phase phase-message" id="phase-message">
      <div class="message" id="msg1">Your body can handle<br><span class="highlight">almost anything.</span></div>
      <div class="message" id="msg2" style="margin-top: 60px; color: var(--text-muted); font-size: 56px;">It's your mind<br>you have to convince.</div>
    </div>

    <!-- Phase 4: CTA -->
    <div class="phase cta-phase" id="phase-cta">
      <div class="cta-text" id="cta-q">What's your</div>
      <div class="cta-box" id="cta-box">
        <span>DAY 1?</span>
      </div>
    </div>

    <!-- Pulse rings -->
    <div class="pulse-ring" id="ring1" style="top: 50%; left: 50%; border-color: var(--red);"></div>
    <div class="pulse-ring" id="ring2" style="top: 50%; left: 50%; border-color: var(--green);"></div>

    <!-- Progress bar -->
    <div class="progress-bar" id="progress"></div>

    <!-- Vignette -->
    <div class="vignette"></div>
  </div>

  <script>
    // Particle system with color switching
    let currentColor = 'red';

    function createParticles(color = 'red') {
      const container = document.getElementById('particles');
      container.innerHTML = '';

      for (let i = 0; i < 30; i++) {
        const p = document.createElement('div');
        p.className = `particle particle-${color}`;

        const x = Math.random() * 100;
        const y = 40 + Math.random() * 60;
        const duration = 6 + Math.random() * 6;
        const delay = Math.random() * 6;

        p.style.cssText = `
          left: ${x}%;
          top: ${y}%;
          animation: particle-up ${duration}s linear ${delay}s infinite;
        `;

        container.appendChild(p);
      }
    }

    // Particle animation
    const particleStyle = document.createElement('style');
    particleStyle.textContent = `
      @keyframes particle-up {
        0% { opacity: 0; transform: translateY(0) scale(0); }
        10% { opacity: 0.6; transform: scale(1); }
        90% { opacity: 0.6; }
        100% { opacity: 0; transform: translateY(-300px) scale(0); }
      }
    `;
    document.head.appendChild(particleStyle);

    // Counter animation
    function animateCounter(element, target, duration = 1200) {
      const start = performance.now();

      function update(now) {
        const progress = Math.min((now - start) / duration, 1);
        const eased = 1 - Math.pow(1 - progress, 4);
        element.textContent = Math.round(target * eased);
        if (progress < 1) requestAnimationFrame(update);
      }

      requestAnimationFrame(update);
    }

    // Timeline
    class Timeline {
      constructor() {
        this.events = [];
        this.startTime = null;
      }

      add(time, callback) {
        this.events.push({ time, callback, fired: false });
        return this;
      }

      play() {
        this.startTime = performance.now();
        this.events.forEach(e => e.fired = false);
        this.tick();
      }

      tick() {
        const elapsed = performance.now() - this.startTime;

        this.events.forEach(event => {
          if (!event.fired && elapsed >= event.time) {
            event.callback();
            event.fired = true;
          }
        });

        if (this.events.some(e => !e.fired)) {
          requestAnimationFrame(() => this.tick());
        }
      }
    }

    // Init
    createParticles('red');

    const tl = new Timeline();

    // Start progress bar
    tl.add(0, () => {
      document.getElementById('progress').classList.add('animate');
    });

    // Phase 1: Before
    tl.add(300, () => {
      document.getElementById('bg-before').classList.add('active');
      document.getElementById('phase-before').classList.add('active');
    });

    tl.add(500, () => {
      document.getElementById('day1').classList.add('visible');
      document.getElementById('ring1').classList.add('active');
    });

    tl.add(1200, () => {
      document.getElementById('stat1').classList.add('visible');
      animateCounter(document.getElementById('stat1'), 5, 800);
    });

    tl.add(1800, () => {
      document.getElementById('unit1').classList.add('visible');
    });

    // Glitch transition
    tl.add(4500, () => {
      document.getElementById('glitch').classList.add('active');
      document.getElementById('glitch-lines').classList.add('active');
    });

    // Phase 2: After
    tl.add(5000, () => {
      document.getElementById('bg-before').classList.remove('active');
      document.getElementById('phase-before').classList.remove('active');

      document.getElementById('bg-after').classList.add('active');
      document.getElementById('phase-after').classList.add('active');

      createParticles('green');

      // Reset ring
      const ring2 = document.getElementById('ring2');
      ring2.classList.remove('active');
      setTimeout(() => ring2.classList.add('active'), 50);
    });

    tl.add(5200, () => {
      document.getElementById('day90').classList.add('visible');
    });

    tl.add(5800, () => {
      document.getElementById('stat2').classList.add('visible');
      animateCounter(document.getElementById('stat2'), 42, 1500);
    });

    tl.add(6400, () => {
      document.getElementById('unit2').classList.add('visible');
    });

    // Phase 3: Message
    tl.add(9000, () => {
      document.getElementById('phase-after').classList.remove('active');
      document.getElementById('bg-after').classList.remove('active');
      document.getElementById('phase-message').classList.add('active');
    });

    tl.add(9300, () => {
      document.getElementById('msg1').classList.add('visible');
    });

    tl.add(12000, () => {
      document.getElementById('msg2').classList.add('visible');
    });

    // Phase 4: CTA
    tl.add(15000, () => {
      document.getElementById('phase-message').classList.remove('active');
      document.getElementById('phase-cta').classList.add('active');
    });

    tl.add(15300, () => {
      document.getElementById('cta-q').classList.add('visible');
    });

    tl.add(15800, () => {
      document.getElementById('cta-box').classList.add('visible');
    });

    tl.play();

    // Click to restart
    document.body.addEventListener('click', () => {
      // Reset all
      document.querySelectorAll('.active, .visible, .animate').forEach(el => {
        el.classList.remove('active', 'visible', 'animate');
      });

      document.getElementById('glitch').classList.remove('active');
      document.getElementById('glitch-lines').classList.remove('active');
      document.getElementById('ring1').classList.remove('active');
      document.getElementById('ring2').classList.remove('active');

      createParticles('red');

      setTimeout(() => tl.play(), 300);
    });
  </script>
</body>
</html>
